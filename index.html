<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Порождающие паттерны (Java) — кибер-презентация ч/б</title>
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;600;800&display=swap" rel="stylesheet">
  <style>
    :root{
      --bg:#0a0a0a; --fg:#ffffff; --muted:#bdbdbd; --accent:#ffffff;
      --grid:#1a1a1a; --card:#0f0f0f; --shadow: 0 10px 40px rgba(255,255,255,.05);
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0; background: radial-gradient(1200px 800px at 50% 10%, #111 0%, var(--bg) 60%);
      color:var(--fg); font-family:"Orbitron",system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
      letter-spacing:.2px; overflow:hidden;
    }
    body::before{
      content:""; position:fixed; inset:0;
      background:
        linear-gradient(var(--grid) 1px, transparent 1px),
        linear-gradient(90deg, var(--grid) 1px, transparent 1px);
      background-size:32px 32px,32px 32px;
      mask-image: radial-gradient(ellipse at center, rgba(255,255,255,.25), transparent 60%);
      pointer-events:none;
    }
    .deck{position:relative; height:100dvh; width:100vw; display:flex; align-items:center; justify-content:center; padding:48px;}
    .slide{
      position:absolute; inset:48px; margin:auto; width:min(1100px, 100%); height:min(720px, calc(100% - 96px));
      background:linear-gradient(180deg, rgba(255,255,255,.03), rgba(255,255,255,.01));
      border:1px solid rgba(255,255,255,.12); border-radius:24px; box-shadow:var(--shadow);
      padding:48px 56px; display:none; overflow:hidden;
    }
    .slide.active{display:block}
    .slide::before,.slide::after{
      content:""; position:absolute; inset:0; pointer-events:none; opacity:.35;
      background:
        linear-gradient(90deg, var(--accent), transparent) top left/120px 2px no-repeat,
        linear-gradient(180deg, var(--accent), transparent) top left/2px 120px no-repeat,
        linear-gradient(-90deg, var(--accent), transparent) top right/120px 2px no-repeat,
        linear-gradient(180deg, var(--accent), transparent) top right/2px 120px no-repeat,
        linear-gradient(90deg, var(--accent), transparent) bottom left/120px 2px no-repeat,
        linear-gradient(-180deg, var(--accent), transparent) bottom left/2px 120px no-repeat,
        linear-gradient(-90deg, var(--accent), transparent) bottom right/120px 2px no-repeat,
        linear-gradient(-180deg, var(--accent), transparent) bottom right/2px 120px no-repeat;
    }
    .slide::after{background: radial-gradient(600px 100px at 50% 0%, rgba(255,255,255,.08), transparent); opacity:.8}
    h1,h2,h3{margin:0 0 16px 0}
    h1{font-size:clamp(28px,5vw,56px); line-height:1.05; letter-spacing:1px; text-transform:uppercase}
    h2{font-size:clamp(22px,3.2vw,32px); text-transform:uppercase; letter-spacing:.6px}
    p,li{color:var(--fg); font-size:clamp(16px,1.6vw,20px); line-height:1.55}
    .muted{color:var(--muted)}
    .hr{height:1px; background:linear-gradient(90deg, rgba(255,255,255,.35), rgba(255,255,255,0)); margin:18px 0 22px;}
    .fade-in{opacity:0; transform:translateY(12px)}
    .fade-in.visible{animation:fadeUp .7s ease forwards}
    @keyframes fadeUp{to{opacity:1; transform:none}}
    .scanline{position:relative; overflow:hidden}
    .scanline::after{
      content:""; position:absolute; left:0; right:0; top:-100%; height:120%;
      background:linear-gradient(to bottom, rgba(255,255,255,0) 0%, rgba(255,255,255,.06) 10%, rgba(255,255,255,0) 20%);
      animation:scan 4s linear infinite; pointer-events:none;
    }
    @keyframes scan{to{top:100%}}
    .type{border-right:2px solid var(--fg); white-space:nowrap; overflow:hidden; width:0ch}
    .type.visible{animation:typing 2.8s steps(40,end) forwards, caret 1s step-end infinite}
    @keyframes typing{to{width:100%}} @keyframes caret{50%{border-color:transparent}}
    .bullets li{opacity:0; transform:translateY(8px)}
    .bullets li.visible{animation:fadeUp .5s ease forwards}
    .bullets li:nth-child(2).visible{animation-delay:.08s}
    .bullets li:nth-child(3).visible{animation-delay:.16s}
    .bullets li:nth-child(4).visible{animation-delay:.24s}
    .bullets li:nth-child(5).visible{animation-delay:.32s}
    .footer{position:absolute; bottom:18px; left:32px; right:32px; display:flex; align-items:center; justify-content:space-between; color:var(--muted); font-size:12px; letter-spacing:.6px; text-transform:uppercase}
    .progress{height:2px; background:#222; border-radius:2px; overflow:hidden; width:40%}
    .progress>i{display:block; height:100%; width:0%; background:#fff}
    .kbd{display:inline-block; padding:4px 8px; border:1px solid rgba(255,255,255,.35); border-radius:8px; font-size:12px; letter-spacing:.6px; text-transform:uppercase; margin-left:6px}
    .grid-2{display:grid; grid-template-columns:1.1fr .9fr; gap:24px}
    .card{background:var(--card); border:1px solid rgba(255,255,255,.06); border-radius:16px; padding:18px 20px}
    .mono{font-family:ui-monospace,SFMono-Regular,Menlo,Consolas,"Liberation Mono",monospace; font-size:.95em}
    pre{white-space:pre; overflow:auto; margin:0}
    .tag{font-size:12px; padding:6px 10px; border:1px solid rgba(255,255,255,.3); border-radius:999px; text-transform:uppercase; letter-spacing:.6px; display:inline-block}
    .tags{display:flex; gap:8px; flex-wrap:wrap; margin:10px 0 0}
  </style>
</head>
<body>
  <div class="deck" id="deck">
    <!-- 1 -->
    <section class="slide active scanline">
      <h1 class="type" data-animate="type">Порождающие паттерны (Java)</h1>
      <div class="hr"></div>
      <h2 class="fade-in" data-animate="fade">Гибкое создание объектов без лишних зависимостей</h2>
      <p class="muted fade-in" data-animate="fade">Чёрно-белая кибер-эстетика. Навигация: стрелки ← → или клик.</p>
      <div class="footer">
        <span>Управление:<span class="kbd">←</span><span class="kbd">→</span><span class="kbd">Space</span></span>
        <div class="progress"><i id="progress"></i></div>
        <span id="counter">1 / 9</span>
      </div>
    </section>

    <!-- 2 -->
    <section class="slide">
      <h2 class="fade-in" data-animate="fade">Зачем нужны порождающие паттерны?</h2>
      <ul class="bullets" style="margin-top:12px">
        <li>Отделяют логику создания от использования (SRP)</li>
        <li>Снижают связность, скрывают сложную инициализацию</li>
        <li>Позволяют подменять семейства объектов конфигурацией</li>
        <li>Упрощают тестирование (внедрение зависимостей, моки)</li>
      </ul>
      <div class="tags">
        <span class="tag">Encapsulation</span><span class="tag">Low Coupling</span><span class="tag">Extensibility</span>
      </div>
      <div class="footer"><span>Идея: «создание» — отдельная ответственность</span><div class="progress"><i></i></div><span></span></div>
    </section>

    <!-- 3 -->
    <section class="slide">
      <h2 class="fade-in" data-animate="fade">Классика (GoF) для Java</h2>
      <div class="grid-2" style="margin-top:10px">
        <div class="card">
          <ul class="bullets">
            <li>Singleton (Одиночка)</li>
            <li>Factory Method (Фабричный метод)</li>
            <li>Abstract Factory (Абстрактная фабрика)</li>
          </ul>
        </div>
        <div class="card">
          <ul class="bullets">
            <li>Builder (Строитель)</li>
            <li>Prototype (Прототип)</li>
            <li class="muted">+ Object Pool (по ситуации)</li>
          </ul>
        </div>
      </div>
      <div class="footer"><span>Дальше — каждый с мини-анимацией</span><div class="progress"><i></i></div><span></span></div>
    </section>

    <!-- 4 Singleton -->
    <section class="slide">
      <h2 class="fade-in" data-animate="fade">Singleton</h2>
      <div class="grid-2" style="margin-top:6px">
        <div>
          <p class="muted">Один экземпляр класса и глобальная точка доступа.</p>
          <ul class="bullets">
            <li>Подходит для конфигов, кэшей, пулов соединений</li>
            <li>Осторожно: может мешать тестированию</li>
          </ul>
        </div>
        <div class="card mono">
<pre>public final class Config {
  private static volatile Config instance;
  private Config() {}
  public static Config getInstance() {
    if (instance == null) {
      synchronized (Config.class) {
        if (instance == null) instance = new Config(); // DCL
      }
    }
    return instance;
  }
}</pre>
        </div>
      </div>
      <div class="footer"><span>Java: потокобезопасный DCL</span><div class="progress"><i></i></div><span></span></div>
    </section>

    <!-- 5 Factory Method -->
    <section class="slide">
      <h2 class="fade-in" data-animate="fade">Factory Method</h2>
      <div class="grid-2" style="margin-top:6px">
        <div>
          <p class="muted">Создание делегируется подклассам через фабричный метод.</p>
          <ul class="bullets">
            <li>Полиморфизм вместо switch/if по типам</li>
            <li>Новые продукты без изменения клиента</li>
          </ul>
        </div>
        <div class="card mono">
<pre>interface Button { void onClick(); }
abstract class Dialog {
  protected abstract Button createButton();
  public void render() {
    Button b = createButton();
    b.onClick();
  }
}
class WebDialog extends Dialog {
  @Override protected Button createButton() { return () -> System.out.println("Web"); }
}</pre>
        </div>
      </div>
      <div class="footer"><span>Клиент знает интерфейс, не знает конкретику</span><div class="progress"><i></i></div><span></span></div>
    </section>

    <!-- 6 Abstract Factory -->
    <section class="slide">
      <h2 class="fade-in" data-animate="fade">Abstract Factory</h2>
      <div class="grid-2" style="margin-top:6px">
        <div>
          <p class="muted">Создание согласованных семейств объектов.</p>
          <ul class="bullets">
            <li>Совместимость «кнопка+чекбокс» в одном стиле</li>
            <li>Переключение тем/платформ конфигурацией</li>
          </ul>
        </div>
        <div class="card mono">
<pre>interface Button { }
interface Checkbox { }
interface UIFactory {
  Button createButton();
  Checkbox createCheckbox();
}
class WinFactory implements UIFactory {
  public Button createButton(){ return new WinButton(); }
  public Checkbox createCheckbox(){ return new WinCheckbox(); }
}</pre>
        </div>
      </div>
      <div class="footer"><span>Одна точка — разные «семейства» UI</span><div class="progress"><i></i></div><span></span></div>
    </section>

    <!-- 7 Builder -->
    <section class="slide">
      <h2 class="fade-in" data-animate="fade">Builder</h2>
      <div class="grid-2" style="margin-top:6px">
        <div>
          <p class="muted">Пошаговая сборка сложного объекта с разными представлениями.</p>
          <ul class="bullets">
            <li>Чистая конфигурация через fluent-интерфейс</li>
            <li>Директор может собирать пресеты</li>
          </ul>
        </div>
        <div class="card mono">
<pre>public class Report {
  private final String title, section;
  private Report(Builder b){ this.title=b.title; this.section=b.section; }
  public static class Builder{
    private String title, section;
    public Builder title(String v){ this.title=v; return this; }
    public Builder section(String v){ this.section=v; return this; }
    public Report build(){ return new Report(this); }
  }
}
Report r = new Report.Builder().title("Статистика").section("Продажи").build();</pre>
        </div>
      </div>
      <div class="footer"><span>Избавляемся от «большого конструктора»</span><div class="progress"><i></i></div><span></span></div>
    </section>

    <!-- 8 Prototype -->
    <section class="slide">
      <h2 class="fade-in" data-animate="fade">Prototype</h2>
      <div class="grid-2" style="margin-top:6px">
        <div>
          <p class="muted">Клонирование готового образца вместо создания с нуля.</p>
          <ul class="bullets">
            <li>Быстрое копирование сложной конфигурации</li>
            <li>Важна «глубина» копии (deep/shallow)</li>
          </ul>
        </div>
        <div class="card mono">
<pre>class Enemy implements Cloneable {
  int hp; String ai;
  Enemy(int hp, String ai){ this.hp=hp; this.ai=ai; }
  @Override protected Enemy clone() {
    try { return (Enemy) super.clone(); } catch (CloneNotSupportedException e){ throw new AssertionError(e); }
  }
}
Enemy tpl = new Enemy(100, "melee");
Enemy e1 = tpl.clone(); e1.hp = 120;</pre>
        </div>
      </div>
      <div class="footer"><span>clone(): быстро и предсказуемо</span><div class="progress"><i></i></div><span></span></div>
    </section>

    <!-- 9 Выбор -->
    <section class="slide">
      <h2 class="fade-in" data-animate="fade">Как выбрать?</h2>
      <div class="grid-2" style="margin-top:8px">
        <div class="card">
          <ul class="bullets">
            <li>Один экземпляр → <b>Singleton</b></li>
            <li>Точка расширения типа → <b>Factory Method</b></li>
            <li>Семейства совместимых объектов → <b>Abstract Factory</b></li>
            <li>Пошаговая сборка → <b>Builder</b></li>
            <li>Копирование настроек → <b>Prototype</b></li>
          </ul>
        </div>
        <div class="card">
          <p class="muted">Принцип:</p>
          <p><b>Спрячьте детали создания — держите низкую связность.</b></p>
          <p class="muted">Тогда система легко расширяется без переписывания клиента.</p>
        </div>
      </div>
      <div class="footer"><span>Java-фокус: интерфейсы, абстрактные классы, clone(), Builder</span><div class="progress"><i></i></div><span></span></div>
    </section>
  </div>

  <script>
    (function(){
      const deck = document.getElementById('deck');
      const slides = Array.from(deck.querySelectorAll('.slide'));
      let index = 0;
      function clamp(i){ return Math.max(0, Math.min(slides.length-1, i)); }
      function setActive(i){
        index = clamp(i);
        slides.forEach((s, idx) => s.classList.toggle('active', idx === index));
        triggerAnimations(slides[index]); updateFooter();
      }
      function triggerAnimations(slide){
        const animatables = slide.querySelectorAll('[data-animate], .bullets li');
        animatables.forEach(el => {
          el.classList.remove('visible'); void el.offsetWidth;
          const kind = el.dataset.animate;
          if(kind === 'type'){ el.classList.add('type','visible'); }
          else if(kind === 'fade'){ el.classList.add('.fade-in'); el.classList.add('fade-in','visible'); }
          if(el.tagName === 'LI'){ el.classList.add('visible'); }
        });
      }
      function updateFooter(){
        const bars = slides[index].querySelectorAll('.progress > i');
        bars.forEach(b => b.style.width = ((index+1)/slides.length*100).toFixed(2)+'%');
        const counter = document.getElementById('counter'); if(counter){ counter.textContent = (index+1)+' / '+slides.length; }
        const global = document.getElementById('progress'); if(global){ global.style.width = ((index+1)/slides.length*100).toFixed(2)+'%'; }
      }
      window.addEventListener('keydown', e=>{
        if(['ArrowRight','PageDown',' '].includes(e.key)){ e.preventDefault(); setActive(index+1); }
        if(['ArrowLeft','PageUp'].includes(e.key)){ e.preventDefault(); setActive(index-1); }
        if(e.key==='Home'){ e.preventDefault(); setActive(0); }
        if(e.key==='End'){ e.preventDefault(); setActive(slides.length-1); }
      });
      window.addEventListener('click', ()=> setActive(index+1));
      setActive(0);
    })();
  </script>
</body>
</html>
